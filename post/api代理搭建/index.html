<!doctype html><html lang=zh-cn data-theme-mode=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>API代理搭建 | D-Sketon</title><meta name=description content="少女祈祷中..."><script>window.siteConfig=JSON.parse('{"anchor_icon":null,"base":"https://github.com/12cjn/Yoimiya-Blog-Hugo.github.io/","clipboard":{"copyright":{"count":50,"enable":false,"license_type":"by-nc-sa"},"fail":{"en":"Copy failed (ﾟ⊿ﾟ)ﾂ","ja":"コピー失敗 (ﾟ⊿ﾟ)ﾂ","zh-cn":"复制失败 (ﾟ⊿ﾟ)ﾂ","zh-tw":"複製失敗 (ﾟ⊿ﾟ)ﾂ"},"success":{"en":"Copy successfully (*^▽^*)","ja":"コピー成功 (*^▽^*)","zh-cn":"复制成功 (*^▽^*)","zh-tw":"複製成功 (*^▽^*)"}},"code_block":{"expand":true},"i18n_languages":[{"Lang":"en","LanguageName":"English","LanguageCode":"","Title":"","LanguageDirection":"","Weight":1,"Disabled":false},{"Lang":"ja","LanguageName":"日本語","LanguageCode":"","Title":"","LanguageDirection":"","Weight":1,"Disabled":false},{"Lang":"zh-cn","LanguageName":"简体中文","LanguageCode":"","Title":"","LanguageDirection":"","Weight":1,"Disabled":false},{"Lang":"zh-tw","LanguageName":"繁體中文","LanguageCode":"","Title":"","LanguageDirection":"","Weight":1,"Disabled":false}],"icon_font":"4552607_0khxww3tj3q9","outdate":{"daysago":180,"enable":false,"message":{"en":"This article was last updated on {time}. Please note that the content may no longer be applicable.","ja":"この記事は最終更新日：{time}。記載内容が現在有効でない可能性がありますのでご注意ください。","zh-cn":"本文最后更新于 {time}，请注意文中内容可能已不适用。","zh-tw":"本文最後更新於 {time}，請注意文中內容可能已不適用。"}}}')</script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap" media=print onload='this.media="all"'><link rel=preload href=//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=stylesheet href=/12cjn/Yoimiya-Blog-Hugo.github.io/css/loader.min.ac746e154f756f8220326eeb52a719f142ab038be5a8ddf30ea5ef15ef2356ea.css><meta property="og:type" content="website"><meta property="og:title" content="API代理搭建 | D-Sketon"><meta property="og:description" content="少女祈祷中..."><meta property="og:url" content="https://github.com/12cjn/Yoimiya-Blog-Hugo.github.io/post/api%E4%BB%A3%E7%90%86%E6%90%AD%E5%BB%BA/"><meta property="og:site_name" content="Yoimiya的小站"><meta property="og:image" content="/12cjn/Yoimiya-Blog-Hugo.github.io/"><meta property="article:author" content="D-Sketon"><meta property="article:published_time" content="2025-06-01T13:18:52+08:00"><meta property="article:modified_time" content="2025-06-01T13:28:41+08:00"><meta property="article:tag" content="教程代理"><meta name=twitter:card content="summary"><meta name=twitter:image content="/12cjn/Yoimiya-Blog-Hugo.github.io/"><link rel="shortcut icon" href=/12cjn/Yoimiya-Blog-Hugo.github.io/favicon.ico><link rel=stylesheet href=/12cjn/Yoimiya-Blog-Hugo.github.io/css/main.min.6f0c9d73b0dd2b1285382e96d9093628d812f6d1bb8ee4ed8a1ced8269f43ffd.css><link rel=preload as=style href=https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css integrity=sha384-IfxC36XL/toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei+Zx/1oA/0l8ysE crossorigin=anonymous onload='this.onload=null,this.rel="stylesheet"'><link rel=preload as=style href=https://npm.webcache.cn/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous onload='this.onload=null,this.rel="stylesheet"'><script src=https://npm.webcache.cn/pace-js@1.2.4/pace.min.js integrity=sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8 crossorigin=anonymous></script><link rel=stylesheet href=https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css integrity=sha384-4NN3fZ5AokFyHuoihl7A9qWaCt+HsAtOaUsXwJGRb4/SMBtFr2vcNSHR5E8dg0Wk crossorigin=anonymous></head><body><div id=loader><div class="loading-left-bg loading-bg"></div><div class="loading-right-bg loading-bg"></div><div class=spinner-box><div class="loading-taichi rotate"><svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" shape-rendering="geometricPrecision"><path d="M303.5 432a80 80 0 01-12 160 80 80 0 0112-160z" fill="var(--red-1, #ff5252)"/><path d="M512 65a447 447 0 010 894V929a417 417 0 000-834 417 417 0 000 834v30a447 447 0 010-894zm0 30A417 417 0 01929 512 208.5 208.5.0 01720.5 720.5V592a80 80 0 000-160 80 80 0 000 160V720.5A208.5 208.5.0 01512 512 208.5 208.5.0 00303.5 303.5 208.5 208.5.0 0095 512 417 417 0 01512 95z" fill="var(--red-1, #ff5252)"/></svg></div><div class=loading-word>少女祈祷中...</div></div></div></div><script>var time=null,startLoading=()=>{time=Date.now(),document.getElementById("loader").classList.remove("loading")},endLoading=()=>{time?Date.now()-time>500?(time=null,document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading")):(setTimeout(endLoading,500-(Date.now()-time)),time=null):(document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading"))};window.addEventListener("DOMContentLoaded",endLoading),document.getElementById("loader").addEventListener("click",endLoading)</script><div id=copy-tooltip style="pointer-events:none;opacity:0;transition:all .2s ease;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:10px 15px;border-radius:10px"></div><div id=lang-tooltip style="pointer-events:none;opacity:0;transition:all .2s ease;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:10px 15px;border-radius:10px">本文章没有找到对应的语言版本</div><div id=container><div id=wrap><div id=header-nav><nav id=main-nav><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/>首页</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/archives>归档</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/about>关于</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/friend>友链</a>
</span><a id=main-nav-toggle class=nav-icon></a></nav><nav id=sub-nav></nav><nav id=i18n-nav><div class=custom-dropdown><div class=select-selected id=select-selected><span id=nav-language-btn class=nav-icon style="padding:0 20px 0 0"></span>
<span id=selected-lang>简体中文</span></div><ul class=select-items id=select-items><li data-value=en>English</li><li data-value=ja>日本語</li><li data-value=zh-cn class=selected>简体中文</li><li data-value=zh-tw>繁體中文</li></ul></div><script>var selectSelected=document.getElementById("select-selected"),selectedLang=document.getElementById("selected-lang"),selectItems=document.getElementById("select-items"),selectOptions=selectItems.querySelectorAll("li");selectSelected.addEventListener("click",()=>{selectItems.classList.toggle("show")}),selectOptions.forEach(e=>{e.addEventListener("click",()=>{const t={};if(selectedLang.textContent=e.textContent,selectItems.classList.remove("show"),selectOptions.forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected"),e.dataset.value==="zh-cn")return;if(!t[e.dataset.value]){_$("#lang-tooltip").style.opacity="1",setTimeout(()=>{_$("#lang-tooltip").style.opacity="0"},1e3);return}window.location=t[e.dataset.value]})}),document.addEventListener("click",e=>{e.target.closest(".custom-dropdown")||selectItems.classList.remove("show")})</script></nav></div><header id=header><picture></picture><img fetchpriority=high src=/12cjn/Yoimiya-Blog-Hugo.github.io/images/banner.webp alt=API代理搭建><div id=header-outer><div id=header-title><a href=/12cjn/Yoimiya-Blog-Hugo.github.io/ id=logo><h1 data-aos=slide-up>API代理搭建</h1></a><h2 id=subtitle-wrap data-aos=slide-down></h2></div></div></header><div id=content class=sidebar-right><aside id=sidebar><div class="sidebar-wrapper wrap-sticky"><div class=sidebar-wrap data-aos=fade-up><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>文章目录</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#-目录索引>📌 目录索引</a></li><li><a href=#-为什么需要海外代理>🌐 为什么需要海外代理？</a></li><li><a href=#-选择合适的海外vps服务商>🔍 选择合适的海外VPS服务商</a><ul><li><a href=#-推荐服务商对比表>✅ 推荐服务商对比表</a></li><li><a href=#-选择标准>🛠️ 选择标准</a></li></ul></li><li><a href=#-在vps上安装ssh隧道服务>💻 在VPS上安装SSH隧道服务</a><ul><li><a href=#-所需工具>🧰 所需工具</a></li><li><a href=#-配置步骤>🛠️ 配置步骤</a></li></ul></li><li><a href=#-配置国内服务器通过ssh隧道访问api>🚀 配置国内服务器通过SSH隧道访问API</a><ul><li><a href=#-测试流程>🧪 测试流程</a></li></ul></li><li><a href=#-代理服务的安全加固技巧>⚖️ 代理服务的安全加固技巧</a><ul><li><a href=#-安全防护措施>🔒 安全防护措施</a></li></ul></li><li><a href=#-常见问题排查指南>💡 常见问题排查指南</a><ul><li><a href=#-问题1连接超时>❓ 问题1：连接超时</a></li><li><a href=#-问题2代理无法访问api>❓ 问题2：代理无法访问API</a></li><li><a href=#-问题3ip被封禁>❓ 问题3：IP被封禁</a></li></ul></li><li><a href=#-扩展学习路径>🛠️ 扩展学习路径</a></li><li><a href=#-小结>🌟 小结</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/12cjn/Yoimiya-Blog-Hugo.github.io/avatar/avatar.webp data-sizes=auto alt=D-Sketon class=lazyload><div class=sidebar-author-name>D-Sketon</div><div class=sidebar-description>少女祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>文章</div><div class=sidebar-state-number>3</div></div><div class=sidebar-state-category><div>分类</div><div class=sidebar-state-number>1</div></div><div class=sidebar-state-tag><div>标签</div><div class=sidebar-state-number>4</div></div></div><div class=sidebar-social></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/ aria-label=首页></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>首页</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/archives aria-label=归档></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>归档</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/about aria-label=关于></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>关于</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/friend aria-label=友链></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>友链</div></div></div></div><div class=sidebar-btn-wrapper style=position:static><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></div></div><div class=sidebar-widget></div></aside><section id=main><article class="h-entry article" itemprop=blogPost itemscope itemtype=https://schema.org/BlogPosting><div class=article-inner data-aos=fade-up><div class=article-meta><div class=article-date><span class=article-date-link data-aos=zoom-in><time datetime="2025-06-01 13:18:52 +0800 +0800" itemprop=datePublished>2025-06-01</time>
<time style=display:none id=post-update-time>2025-06-01</time></span></div><div class=article-category></div></div><div class=hr-line></div><div class="e-content article-entry" itemprop=articleBody><h1 id=-如何在海外vps搭建代理服务让你的国内服务器访问open-ai等海外api的完整指南><a class=header-anchor href=#-%e5%a6%82%e4%bd%95%e5%9c%a8%e6%b5%b7%e5%a4%96vps%e6%90%ad%e5%bb%ba%e4%bb%a3%e7%90%86%e6%9c%8d%e5%8a%a1%e8%ae%a9%e4%bd%a0%e7%9a%84%e5%9b%bd%e5%86%85%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%ae%bf%e9%97%aeopen-ai%e7%ad%89%e6%b5%b7%e5%a4%96api%e7%9a%84%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97></a>🚀 如何在海外VPS搭建代理服务：让你的国内服务器访问Open AI等海外API的完整指南</h1><h2 id=-目录索引><a class=header-anchor href=#-%e7%9b%ae%e5%bd%95%e7%b4%a2%e5%bc%95></a>📌 目录索引</h2><ol><li>[🌐 为什么需要海外代理？](#🌐 为什么需要海外代理？)</li><li>[🔍 选择合适的海外VPS服务商](#🔍 选择合适的海外VPS服务商)</li><li>[💻 在VPS上安装SSH隧道服务](#💻 在VPS上安装SSH隧道服务)</li><li>[🚀 配置国内服务器通过SSH隧道访问API](#🚀 配置国内服务器通过SSH隧道访问API)</li><li>[🛡️ 代理服务的安全加固技巧](#🛡️ 代理服务的安全加固技巧)</li><li>[💡 常见问题排查指南](#💡 常见问题排查指南)</li></ol><hr><h2 id=-为什么需要海外代理><a class=header-anchor href=#-%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e6%b5%b7%e5%a4%96%e4%bb%a3%e7%90%86></a>🌐 为什么需要海外代理？</h2><p>在互联网时代，很多优质服务都部署在海外服务器上（比如Open AI的API、Google Cloud API等）。由于国内网络环境的特殊性，直接访问这些服务可能会遇到以下问题：</p><ul><li><strong>IP封锁</strong>：某些海外服务会限制国内IP访问</li><li><strong>带宽限制</strong>：国内用户直接访问可能被限速</li><li><strong>协议限制</strong>：部分API只支持HTTPS等特定协议</li></ul><p>通过搭建代理服务，可以实现：
✅ 隐藏真实IP地址<br>✅ 伪装成海外客户端<br>✅ 突破网络限制</p><blockquote><p>🧠 小贴士：如果你的业务需要频繁调用这些API，建议选择带宽充足的VPS服务商</p></blockquote><hr><h2 id=-选择合适的海外vps服务商><a class=header-anchor href=#-%e9%80%89%e6%8b%a9%e5%90%88%e9%80%82%e7%9a%84%e6%b5%b7%e5%a4%96vps%e6%9c%8d%e5%8a%a1%e5%95%86></a>🔍 选择合适的海外VPS服务商</h2><h3 id=-推荐服务商对比表><a class=header-anchor href=#-%e6%8e%a8%e8%8d%90%e6%9c%8d%e5%8a%a1%e5%95%86%e5%af%b9%e6%af%94%e8%a1%a8></a>✅ 推荐服务商对比表</h3><table><thead><tr><th>服务商</th><th>特点</th><th>价格</th><th>是否支持SSH</th></tr></thead><tbody><tr><td>DigitalOcean</td><td>配置简单，社区活跃</td><td>$5/month</td><td>✔️</td></tr><tr><td>Linode</td><td>性能稳定，适合企业级应用</td><td>$5/month</td><td>✔️</td></tr><tr><td>Hetzner</td><td>基础套餐性价比高</td><td>$2.50/month</td><td>✔️</td></tr><tr><td>Vultr</td><td>全球节点覆盖广</td><td>$3.50/month</td><td>✔️</td></tr></tbody></table><h3 id=-选择标准><a class=header-anchor href=#-%e9%80%89%e6%8b%a9%e6%a0%87%e5%87%86></a>🛠️ 选择标准</h3><ol><li><strong>带宽</strong>：建议至少50Mbps以上</li><li><strong>CPU</strong>：至少2核CPU</li><li><strong>操作系统</strong>：推荐Ubuntu 22.04 LTS</li><li><strong>防火墙</strong>：确保开放SSH端口（默认22）</li></ol><blockquote><p>💡 建议选择支持SSH密钥认证的服务商，避免密码登录安全风险</p></blockquote><hr><h2 id=-在vps上安装ssh隧道服务><a class=header-anchor href=#-%e5%9c%a8vps%e4%b8%8a%e5%ae%89%e8%a3%85ssh%e9%9a%a7%e9%81%93%e6%9c%8d%e5%8a%a1></a>💻 在VPS上安装SSH隧道服务</h2><h3 id=-所需工具><a class=header-anchor href=#-%e6%89%80%e9%9c%80%e5%b7%a5%e5%85%b7></a>🧰 所需工具</h3><ul><li>OpenSSH（已预装在大多数Linux系统）</li><li>SSH客户端（Windows可用PuTTY）</li></ul><h3 id=-配置步骤><a class=header-anchor href=#-%e9%85%8d%e7%bd%ae%e6%ad%a5%e9%aa%a4></a>🛠️ 配置步骤</h3><ol><li><p><strong>连接到VPS</strong><br>使用SSH命令连接到你的VPS：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh username@vps_ip_address
</span></span></code></pre></div><p>（需要提前生成SSH密钥并配置好登录权限）</p></li><li><p><strong>设置SSH端口转发</strong><br>在终端执行以下命令（假设本地电脑是Windows）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -N -L 1080:localhost:80 username@vps_ip_address
</span></span></code></pre></div><p>这会将VPS的80端口映射到本地1080端口</p></li><li><p><strong>测试连接</strong><br>使用curl命令测试是否能访问海外网站：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -x http://localhost:1080 http://example.com
</span></span></code></pre></div></li></ol><blockquote><p>⚠️ 注意：如果遇到"Connection closed by 127.0.0.1"错误，可能是防火墙限制了端口转发</p></blockquote><hr><h2 id=-配置国内服务器通过ssh隧道访问api><a class=header-anchor href=#-%e9%85%8d%e7%bd%ae%e5%9b%bd%e5%86%85%e6%9c%8d%e5%8a%a1%e5%99%a8%e9%80%9a%e8%bf%87ssh%e9%9a%a7%e9%81%93%e8%ae%bf%e9%97%aeapi></a>🚀 配置国内服务器通过SSH隧道访问API</h2><h3 id=-测试流程><a class=header-anchor href=#-%e6%b5%8b%e8%af%95%e6%b5%81%e7%a8%8b></a>🧪 测试流程</h3><ol><li><p><strong>在本地电脑上安装SSH客户端</strong></p><ul><li>Windows：PuTTY或Windows Terminal</li><li>macOS/Linux：终端自带SSH</li></ul></li><li><p><strong>配置SSH连接参数</strong></p><table><thead><tr><th>参数</th><th>值</th></tr></thead><tbody><tr><td>Hostname</td><td>VPS IP地址</td></tr><tr><td>Port</td><td>22（默认）</td></tr><tr><td>Usernam</td><td>你的VPS用户名</td></tr></tbody></table></li><li><p><strong>设置代理转发</strong><br>在终端执行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -N -L 1080:localhost:80 username@vps_ip_address
</span></span></code></pre></div></li><li><p><strong>测试API访问</strong><br>使用curl命令调用OpenAI API（需替换为真实密钥）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST http://localhost:1080/v1/completions <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -H <span class=s2>&#34;Content-Type: application/json&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -d <span class=s1>&#39;{&#34;prompt&#34;: &#34;hello&#34;, &#34;max_tokens&#34;: 50}&#39;</span> 
</span></span></code></pre></div></li></ol><blockquote><p>🧪 小实验：用<code>curl ifconfig.me</code>测试是否能获取到VPS的公网IP地址</p></blockquote><hr><h2 id=-代理服务的安全加固技巧><a class=header-anchor href=#-%e4%bb%a3%e7%90%86%e6%9c%8d%e5%8a%a1%e7%9a%84%e5%ae%89%e5%85%a8%e5%8a%a0%e5%9b%ba%e6%8a%80%e5%b7%a7></a>⚖️ 代理服务的安全加固技巧</h2><h3 id=-安全防护措施><a class=header-anchor href=#-%e5%ae%89%e5%85%a8%e9%98%b2%e6%8a%a4%e6%8e%aa%e6%96%bd></a>🔒 安全防护措施</h3><ol><li><p><strong>SSH密钥认证</strong></p><ul><li>生成RSA密钥对（2048位以上）</li><li>将公钥上传到VPS的<code>~/.ssh/authorized_keys</code></li></ul></li><li><p><strong>限制访问权限</strong></p><ul><li><p>修改SSH配置文件 <code>/etc/ssh/sshd_config</code></p></li><li><p>添加以下行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>PermitRootLogin no
</span></span><span class=line><span class=cl>PasswordAuthentication no
</span></span></code></pre></div></li></ul></li><li><p><strong>防火墙设置</strong></p><ul><li><p>使用UFW或iptables限制端口访问</p></li><li><p>示例规则（允许SSH和代理端口）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ufw allow 22/tcp
</span></span><span class=line><span class=cl>ufw allow 1080/tcp
</span></span></code></pre></div></li></ul></li><li><p><strong>日志监控</strong></p><ul><li>定期查看SSH日志：<code>/var/log/auth.log</code></li><li>设置警报规则：当检测到异常登录尝试时自动通知</li></ul></li></ol><hr><h2 id=-常见问题排查指南><a class=header-anchor href=#-%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e6%8e%92%e6%9f%a5%e6%8c%87%e5%8d%97></a>💡 常见问题排查指南</h2><h3 id=-问题1连接超时><a class=header-anchor href=#-%e9%97%ae%e9%a2%981%e8%bf%9e%e6%8e%a5%e8%b6%85%e6%97%b6></a>❓ 问题1：连接超时</h3><ul><li>检查VPS是否正常运行</li><li>确认防火墙没有阻止SSH端口</li><li>使用<code>ping vps_ip_address</code>测试网络连通性</li></ul><h3 id=-问题2代理无法访问api><a class=header-anchor href=#-%e9%97%ae%e9%a2%982%e4%bb%a3%e7%90%86%e6%97%a0%e6%b3%95%e8%ae%bf%e9%97%aeapi></a>❓ 问题2：代理无法访问API</h3><ul><li>检查本地电脑的路由表</li><li>尝试更换DNS服务器（推荐使用Google DNS）</li><li>使用<code>telnet localhost 1080</code>测试端口是否通畅</li></ul><h3 id=-问题3ip被封禁><a class=header-anchor href=#-%e9%97%ae%e9%a2%983ip%e8%a2%ab%e5%b0%81%e7%a6%81></a>❓ 问题3：IP被封禁</h3><ul><li>在VPS上安装fail2ban工具</li><li>配置规则阻止异常登录尝试</li><li>定期更新SSH密钥</li></ul><blockquote><p>🧪 实验室小技巧：用<code>tcpdump</code>抓包分析请求流量</p></blockquote><hr><h2 id=-扩展学习路径><a class=header-anchor href=#-%e6%89%a9%e5%b1%95%e5%ad%a6%e4%b9%a0%e8%b7%af%e5%be%84></a>🛠️ 扩展学习路径</h2><ol><li><p><strong>进阶主题</strong></p><ul><li>代理服务的负载均衡配置</li><li>使用Nginx搭建反向代理服务器</li><li>配置Tor网络增强隐私保护</li></ul></li><li><p><strong>相关工具推荐</strong></p><ul><li><code>sshuttle</code>：创建动态DNS代理</li><li><code>ngrok</code>：快速搭建隧道服务</li><li><code>frp</code>：开源的内网穿透工具</li></ul></li><li><p><strong>学习资源</strong></p><ul><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-a-linux-server>DigitalOcean SSH教程</a></li><li><a href=https://www.linode.com/docs/ssh/ssh-tutorial>Linode SSH指南</a></li></ul></li></ol><hr><h2 id=-小结><a class=header-anchor href=#-%e5%b0%8f%e7%bb%93></a>🌟 小结</h2><p>通过在海外VPS搭建SSH代理服务，可以安全高效地突破网络限制，访问海外API。整个过程需要：</p><ol><li>选择合适的VPS服务商</li><li>配置SSH隧道转发</li><li>设置安全防护措施</li><li>定期维护和监控</li></ol><blockquote><p>🚀 小建议：如果业务量较大，考虑使用云服务提供商的代理服务（如Cloudflare Tunnel）</p></blockquote><p>是否需要我为你生成一张示意图来展示整个代理流程？😊</p></div><footer class=article-footer><ul class=article-tag-list itemprop=keywords><li class=article-tag-list-item data-aos=zoom-in><a class=article-tag-list-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/tags/%e6%95%99%e7%a8%8b rel=tag>教程</a></li><li class=article-tag-list-item data-aos=zoom-in><a class=article-tag-list-link href=/12cjn/Yoimiya-Blog-Hugo.github.io/tags/%e4%bb%a3%e7%90%86 rel=tag>代理</a></li></ul></footer></div><nav id=article-nav data-aos=fade-up><div class="article-nav-link-wrap article-nav-link-left"><img data-src=https://d-sketon.top/img/_backwebp/bg1.webp data-sizes=auto alt="Markdown Basic Elements" class=lazyload><a href=/12cjn/Yoimiya-Blog-Hugo.github.io/post/main/></a><div class=article-nav-caption>前一篇</div><h3 class=article-nav-title>Markdown Basic Elements</h3></div></nav></article></section></div><footer id=footer><div style=width:100%;overflow:hidden><div class=footer-line></div></div><div id=footer-info><div><span class=icon-copyright></span>2020-2025<span class="footer-info-sep rotate"></span>
D-Sketon</div><div>基于&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a>&nbsp; Theme.<a href=https://github.com/D-Sketon/hugo-theme-reimu target=_blank>Reimu</a></div><div><span class=icon-brush>&nbsp;4.1k</span>
&nbsp;|&nbsp;
<span class=icon-coffee>&nbsp;00:09</span></div><div><span class=icon-eye></span>
<span id=busuanzi_container_site_pv>总访问量&nbsp;<span id=busuanzi_value_site_pv></span></span>
&nbsp;|&nbsp;
<span class=icon-user></span>
<span id=busuanzi_container_site_uv>总访客量&nbsp;<span id=busuanzi_value_site_uv></span></span></div></div></footer><div class=sidebar-top><div class="sidebar-top-taichi rotate"></div><div class=arrow-up></div></div><div id=mask class=hide></div></div><nav id=mobile-nav><div class=sidebar-wrap><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>文章目录</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#-目录索引>📌 目录索引</a></li><li><a href=#-为什么需要海外代理>🌐 为什么需要海外代理？</a></li><li><a href=#-选择合适的海外vps服务商>🔍 选择合适的海外VPS服务商</a><ul><li><a href=#-推荐服务商对比表>✅ 推荐服务商对比表</a></li><li><a href=#-选择标准>🛠️ 选择标准</a></li></ul></li><li><a href=#-在vps上安装ssh隧道服务>💻 在VPS上安装SSH隧道服务</a><ul><li><a href=#-所需工具>🧰 所需工具</a></li><li><a href=#-配置步骤>🛠️ 配置步骤</a></li></ul></li><li><a href=#-配置国内服务器通过ssh隧道访问api>🚀 配置国内服务器通过SSH隧道访问API</a><ul><li><a href=#-测试流程>🧪 测试流程</a></li></ul></li><li><a href=#-代理服务的安全加固技巧>⚖️ 代理服务的安全加固技巧</a><ul><li><a href=#-安全防护措施>🔒 安全防护措施</a></li></ul></li><li><a href=#-常见问题排查指南>💡 常见问题排查指南</a><ul><li><a href=#-问题1连接超时>❓ 问题1：连接超时</a></li><li><a href=#-问题2代理无法访问api>❓ 问题2：代理无法访问API</a></li><li><a href=#-问题3ip被封禁>❓ 问题3：IP被封禁</a></li></ul></li><li><a href=#-扩展学习路径>🛠️ 扩展学习路径</a></li><li><a href=#-小结>🌟 小结</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/12cjn/Yoimiya-Blog-Hugo.github.io/avatar/avatar.webp data-sizes=auto alt=D-Sketon class=lazyload><div class=sidebar-author-name>D-Sketon</div><div class=sidebar-description>少女祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>文章</div><div class=sidebar-state-number>3</div></div><div class=sidebar-state-category><div>分类</div><div class=sidebar-state-number>1</div></div><div class=sidebar-state-tag><div>标签</div><div class=sidebar-state-number>4</div></div></div><div class=sidebar-social></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/ aria-label=首页></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>首页</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/archives aria-label=归档></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>归档</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/about aria-label=关于></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>关于</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/12cjn/Yoimiya-Blog-Hugo.github.io/friend aria-label=友链></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>友链</div></div></div></div></div><div class=sidebar-btn-wrapper><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></nav></div><script src=https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js integrity=sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf+e crossorigin=anonymous></script><script src=https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js integrity=sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q crossorigin=anonymous></script><script src=/12cjn/Yoimiya-Blog-Hugo.github.io/js/main.js integrity crossorigin=anonymous></script><script src=/12cjn/Yoimiya-Blog-Hugo.github.io/js/aos.js integrity crossorigin=anonymous></script><script>var aosInit=()=>{AOS.init({duration:1e3,easing:"ease",once:!0,offset:50})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aosInit):aosInit()</script><script src=/12cjn/Yoimiya-Blog-Hugo.github.io/js/pjax_main.js integrity crossorigin=anonymous data-pjax></script><script src=https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js integrity=sha384-8LyaidD9GPxQQgLJO/WRw/O2h3BoNq/ApI/ecpvM6RsrCz2qP2ppBXUKihP4V/2d crossorigin=anonymous></script><script>if(window.firework){const e=JSON.parse('{"excludeelements":["a","button"],"particles":[{"colors":["var(--red-1)","var(--red-2)","var(--red-3)","var(--red-4)"],"duration":[1200,1800],"easing":"easeOutExpo","move":["emit"],"number":20,"shape":"circle","shapeOptions":{"alpha":[0.3,0.5],"radius":[16,32]}},{"colors":["var(--red-0)"],"duration":[1200,1800],"easing":"easeOutExpo","move":["diffuse"],"number":1,"shape":"circle","shapeOptions":{"alpha":[0.2,0.5],"lineWidth":6,"radius":20}}]}');e.excludeElements=e.excludeelements,delete e.excludeelements,window.firework(e)}</script><div id=lazy-script><div><script data-pjax>window.REIMU_POST={author:"D-Sketon",title:"API代理搭建",url:"https://github.com/12cjn/Yoimiya-Blog-Hugo.github.io/post/api%E4%BB%A3%E7%90%86%E6%90%AD%E5%BB%BA/",description:" 🚀 如何在海外VPS搭建代理服务：让你的国内服务器访问Open AI等海外API的完整指南 📌 目录索引 [🌐 为什么需要海外代理？](#🌐 为什么需要海外代理？) [🔍 选择合适的海外VPS服务商](#🔍 选择合适的海外VPS服务商) [💻 在VPS上安装SSH隧道服务](#💻 在VPS上安装SSH隧道服务) [🚀 配置国内服务器通过SSH隧道访问API](#🚀 配置国内服务器通过SSH隧道访问API) [🛡️ 代理服务的安全加固技巧](#🛡️ 代理服务的安全加固技巧) [💡 常见问题排查指南](#💡 常见问题排查指南) 🌐 为什么需要海外代理？ 在互联网时代，很多优质服务都部署在海外服务 …",cover:"https://github.com/12cjn/Yoimiya-Blog-Hugo.github.io/images/banner.webp"}</script><script src=/12cjn/Yoimiya-Blog-Hugo.github.io/js/insert_highlight.js integrity crossorigin=anonymous data-pjax></script><script type=module data-pjax>const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script></div></div><script src=https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js asyncintegrity=sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S crossorigin=anonymous></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister()})</script><script>const reimuCopyright=String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;console.log(String.raw`%c ${reimuCopyright}`,"color: #ff5252;"),console.log("%c Theme.Reimu %c https://github.com/D-Sketon/hugo-theme-reimu ","color: white; background: #ff5252; padding:5px 0;","padding:4px;border:1px solid #ff5252;")</script></body></html>